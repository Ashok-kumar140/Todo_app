(()=>{"use strict";var e,t={461:(e,t,a)=>{var l=a(540),n=a(338),r=a(83);const c=()=>l.createElement(l.Fragment,null,l.createElement("div",{className:"header-container"},l.createElement("div",{className:"container"},l.createElement("h5",{style:{color:"#fafafa"}},"CRUD APP")))),o=e=>{let{entries:t,deleteHandler:a,editHandler:n}=e;return l.createElement("table",{className:"table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{scope:"col"},"ID"),l.createElement("th",{scope:"col"},"Name"),l.createElement("th",{scope:"col"},"Date Added"),l.createElement("th",{scope:"col"},"Delete"),l.createElement("th",{scope:"col"},"Edit"))),l.createElement("tbody",null,t.length>0?t.map(((e,t)=>l.createElement("tr",{key:e.ID},l.createElement("th",{scope:"row"},t+1),l.createElement("td",null,e.Name),l.createElement("td",null,e.Date_added),l.createElement("td",null,l.createElement("button",{className:"delete-btn",onClick:()=>a(e.ID)},"Delete")),l.createElement("td",null,l.createElement("button",{className:"edit-btn",onClick:()=>n(e.ID)},"Edit"))))):l.createElement("tr",{"col-span-5":!0},"No Data Found")))};var s=a(799),d=a(540);const i=function(){const[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)([]),[i,u]=(0,l.useState)(""),[m,E]=(0,l.useState)(""),[h,y]=(0,l.useState)(""),[p,g]=(0,l.useState)([]),[v,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{b()}),[]);const b=async()=>{try{const e="http://localhost:4000/api/v1/getAllEntries";console.log(e);const{data:t}=await r.A.get(e);n(t)}catch(e){console.log("Error while fetching all entries",e)}},N=e=>{(async e=>{try{const{data:t}=await r.A.delete("".concat("http://localhost:4000/api/v1","/deleteEntry/").concat(e));t.success&&(b(),s.Ay.success("Entry deleted successfully"))}catch(e){console.log("Error while deleting entry",e),s.Ay.error("Failed to delete.Please try again...")}})(e),b()},S=e=>{t(!0),(async e=>{try{const{data:t}=await r.A.get("".concat("http://localhost:4000/api/v1","/getEntry/").concat(e));console.log("data after updated",t[0].Name),u(t[0].Name),E(t[0].ID),console.log("suserId,userName",m,i)}catch(e){console.log("Error while fetching entry details by id",e)}})(e)};return d.createElement(d.Fragment,null,d.createElement(c,null),d.createElement("div",{className:"input-conatiner"},d.createElement("form",{onSubmit:e?async e=>{e.preventDefault();try{const{data:e}=await r.A.post("".concat("http://localhost:4000/api/v1","/editEntry/").concat(m),{Name:i});console.log("data after updated",e),e.success&&(b(),s.Ay.success("Entry updated successfully."))}catch(e){console.log("Error while editing an entry",e),s.Ay.error("Failed to edit entry.Please try again...")}t(!1),u(""),E("")}:e=>{e.preventDefault(),(async()=>{try{const e="http://localhost:4000/api/v1/addEntry";console.log(e);const{data:t}=await r.A.post(e,{Name:i});t.success&&(u(""),s.Ay.success("Entry added successfully"),b())}catch(e){console.log("Error while adding new entry",e),s.Ay.error("Failed to add entry.Please try again...")}})(),b()}},d.createElement("div",null,d.createElement("label",null,"Name: "),d.createElement("input",{type:"text",required:!0,name:"userName",id:"userName",placeholder:"Enter your name:",value:i,onChange:e=>{u(e.target.value)}}),d.createElement("button",{className:"addBtn"},e?"Save Changes":"Add Entry")))),d.createElement("div",{className:"table-container"},d.createElement(o,{entries:a,deleteHandler:N,editHandler:S})),d.createElement("div",{className:"input-conatiner"},d.createElement("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{const{data:e}=await r.A.get("".concat("http://localhost:4000/api/v1","/searchEntries/").concat(h));console.log("serach",e.result),g(e.result)}catch(e){console.log("Error while fetching your search results")}}},d.createElement("div",null,d.createElement("label",null,"Search By Name: "),d.createElement("input",{type:"text",required:!0,name:"searchUser",id:"userName",placeholder:"Enter name:",value:h,onChange:e=>y(e.target.value)}),d.createElement("button",{className:"addBtn"},"Search")))),d.createElement("div",{className:"table-container",style:{fontSize:"18px",fontWeight:"bold"}},v&&d.createElement("div",null,'Search results for "',h,'"')),d.createElement("div",{className:"table-container"},h&&p.length>0?d.createElement(o,{entries:p,editHandler:S,deleteHandler:N}):v&&d.createElement("div",null,"No results found.")))};n.createRoot(document.getElementById("root")).render(l.createElement(l.StrictMode,null,l.createElement(i,null),l.createElement(s.l$,null)))}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,n,r)=>{if(!a){var c=1/0;for(i=0;i<e.length;i++){a=e[i][0],n=e[i][1],r=e[i][2];for(var o=!0,s=0;s<a.length;s++)(!1&r||c>=r)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(o=!1,r<c&&(c=r));if(o){e.splice(i--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[a,n,r]},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,c=a[0],o=a[1],s=a[2],d=0;if(c.some((t=>0!==e[t]))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)var i=s(l)}for(t&&t(a);d<c.length;d++)r=c[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(i)},a=self.webpackChunkcrud_app=self.webpackChunkcrud_app||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=l.O(void 0,[382,506],(()=>l(461)));n=l.O(n)})();